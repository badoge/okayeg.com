const fs=require("fs");let s24=JSON.parse(fs.readFileSync("24.json")),s25=JSON.parse(fs.readFileSync("25.json")),s26=JSON.parse(fs.readFileSync("26.json")),s27=JSON.parse(fs.readFileSync("27.json")),s28=JSON.parse(fs.readFileSync("28.json")),s29=JSON.parse(fs.readFileSync("29.json")),s30=JSON.parse(fs.readFileSync("30.json")),s31=JSON.parse(fs.readFileSync("31.json")),s32=JSON.parse(fs.readFileSync("32.json")),s33=JSON.parse(fs.readFileSync("33.json")),s34=JSON.parse(fs.readFileSync("34.json")),s35=JSON.parse(fs.readFileSync("35.json")),seasons=[s24,s25,s26,s27,s28,s29,s30,s31,s32,s33,s34,s35],users=[];for(let s=0;s<seasons.length;s++){const e=seasons[s];let l=24+s;for(let s=0;s<e.length;s++){const r=e[s],i=users.findIndex((s=>s._id===r._id));(r.egs||r.eguses||r.egseaten||r.uses||r.coinflips||r.coinflipwins||r.biggestcoinflipwin||r.biggestcoinfliploss||r.plus||r.zero||r.negative||r.lotteryjoins||r.lotterywins||r.egsgiven||r.egsreceived||r.shungite||r.chicken||r.bajcoin||r.copium||r.trivia||r.duels||r.duelswon||r.biggestduelwin||r.biggestduelloss||r.roulettes||r.rouletteswon||r.biggestroulettewin||r.biggestrouletteloss)&&(i>-1?(users[i].username=r.username,users[i].egs+=r.egs,users[i].eguses+=r.eguses,users[i].egseaten+=r.egseaten,users[i].uses+=r.uses,users[i].coinflips+=r.coinflips,users[i].coinflipwins+=r.coinflipwins,users[i].biggestcoinflipwin=r.biggestcoinflipwin>users[i].biggestcoinflipwin?r.biggestcoinflipwin:users[i].biggestcoinflipwin,users[i].biggestcoinfliploss=r.biggestcoinfliploss>users[i].biggestcoinfliploss?r.biggestcoinfliploss:users[i].biggestcoinfliploss,users[i].plus+=r.plus,users[i].zero+=r.zero,users[i].negative+=r.negative,users[i].lotteryjoins+=r.lotteryjoins,users[i].lotterywins+=r.lotterywins,users[i].egsgiven+=r.egsgiven,users[i].egsreceived+=r.egsreceived,users[i].shungite+=r.shungite,users[i].chicken+=r.chicken,users[i].bajcoin+=r.bajcoin,users[i].copium+=r.copium,users[i].trivia+=r.trivia||0,users[i].duels+=r.duels||0,users[i].duelswon+=r.duelswon||0,users[i].biggestduelwin=r.biggestduelwin>users[i].biggestduelwin?r.biggestduelwin:users[i].biggestduelwin,users[i].biggestduelloss=r.biggestduelloss>users[i].biggestduelloss?r.biggestduelloss:users[i].biggestduelloss,users[i].roulettes+=r.roulettes||0,users[i].rouletteswon+=r.rouletteswon||0,users[i].biggestroulettewin=r.biggestroulettewin>users[i].biggestroulettewin?r.biggestroulettewin:users[i].biggestroulettewin,users[i].biggestrouletteloss=r.biggestrouletteloss>users[i].biggestrouletteloss?r.biggestrouletteloss:users[i].biggestrouletteloss,users[i].seasons.push(l)):users.push({_id:r._id,username:r.username,egs:r.egs,eguses:r.eguses,egseaten:r.egseaten,uses:r.uses,coinflips:r.coinflips,coinflipwins:r.coinflipwins,biggestcoinflipwin:r.biggestcoinflipwin,biggestcoinfliploss:r.biggestcoinfliploss,plus:r.plus,zero:r.zero,negative:r.negative,lotteryjoins:r.lotteryjoins,lotterywins:r.lotterywins,egsgiven:r.egsgiven,egsreceived:r.egsreceived,shungite:r.shungite,chicken:r.chicken,bajcoin:r.bajcoin,copium:r.copium,trivia:r.trivia||0,duels:r.duels||0,duelswon:r.duelswon||0,biggestduelwin:r.biggestduelwin||0,biggestduelloss:r.biggestduelloss||0,roulettes:r.roulettes||0,rouletteswon:r.rouletteswon||0,biggestroulettewin:r.biggestroulettewin||0,biggestrouletteloss:r.biggestrouletteloss||0,seasons:[l]}))}}let global={users:0,egs:0,eguses:0,egseaten:0,uses:0,coinflips:0,coinflipwins:0,plus:0,zero:0,negative:0,lotteryjoins:0,egsgiven:0,egsreceived:0,shungite:0,chicken:0,bajcoin:0,copium:0,trivia:0,duels:0,roulettes:0,rouletteswon:0,allSeasons:0,egsArray:[],egusesArray:[],egseatenArray:[],usesArray:[],lotteryjoinsArray:[],lotterywinsArray:[],coinflipwinsArray:[],shungiteArray:[],chickenArray:[],bajcoinArray:[],copiumArray:[],triviaArray:[],duelswonArray:[],biggestduelwinArray:[],biggestduellossArray:[],rouletteswonArray:[]};for(let s=0;s<users.length;s++)global.users++,global.egs+=users[s].egs,global.eguses+=users[s].eguses,global.egseaten+=users[s].egseaten,global.uses+=users[s].uses,global.coinflips+=users[s].coinflips,global.coinflipwins+=users[s].coinflipwins,global.plus+=users[s].plus,global.zero+=users[s].zero,global.negative+=users[s].negative,global.lotteryjoins+=users[s].lotteryjoins,global.egsgiven+=users[s].egsgiven,global.egsreceived+=users[s].egsreceived,global.shungite+=users[s].shungite,global.chicken+=users[s].chicken,global.bajcoin+=users[s].bajcoin,global.copium+=users[s].copium,global.trivia+=users[s].trivia,global.duels+=users[s].duels,global.roulettes+=users[s].roulettes,global.rouletteswon+=users[s].rouletteswon,global.egsArray.push(users[s].egs),global.egusesArray.push(users[s].eguses),global.egseatenArray.push(users[s].egseaten),global.usesArray.push(users[s].uses),global.lotteryjoinsArray.push(users[s].lotteryjoins),global.lotterywinsArray.push(users[s].lotterywins),global.coinflipwinsArray.push(users[s].coinflipwins),global.shungiteArray.push(users[s].shungite),global.chickenArray.push(users[s].chicken),global.bajcoinArray.push(users[s].bajcoin),global.copiumArray.push(users[s].copium),global.triviaArray.push(users[s].trivia),global.duelswonArray.push(users[s].duelswon),global.biggestduelwinArray.push(users[s].biggestduelwin),global.biggestduellossArray.push(users[s].biggestduelloss),global.rouletteswonArray.push(users[s].rouletteswon),sortAndClean(global.egsArray),sortAndClean(global.egusesArray),sortAndClean(global.egseatenArray),sortAndClean(global.usesArray),sortAndClean(global.lotteryjoinsArray),sortAndClean(global.lotterywinsArray),sortAndClean(global.coinflipwinsArray),sortAndClean(global.shungiteArray),sortAndClean(global.chickenArray),sortAndClean(global.bajcoinArray),sortAndClean(global.copiumArray),sortAndClean(global.triviaArray),sortAndClean(global.duelswonArray),sortAndClean(global.biggestduelwinArray),sortAndClean(global.biggestduellossArray),sortAndClean(global.rouletteswonArray),12==users[s].seasons.length&&global.allSeasons++;function sortAndClean(s){for(let e=0;e<s.length;e++)s[e]<=0&&s.splice(e,1);s.sort((function(s,e){return e-s}))}fs.writeFileSync("usersrecap.json",JSON.stringify(users)),fs.writeFileSync("globalrecap.json",JSON.stringify(global));